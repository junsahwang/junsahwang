document.addEventListener("DOMContentLoaded",()=>{const observer=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("visible");observer.unobserve(entry.target)}})},{threshold:0.1});document.querySelectorAll(".stage, .banner").forEach(section=>{section.classList.add("hidden");observer.observe(section)});const sidebar=document.querySelector(".sidebar");sidebar.classList.add("loaded");const gridObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('visible');observer.unobserve(entry.target)}})},{threshold:0.1});document.querySelectorAll('.main .grid-item').forEach(item=>{gridObserver.observe(item)});const jokeFormObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('visible');observer.unobserve(entry.target)}})},{threshold:0.1});const jokeForm=document.querySelector('.jokeform');if(jokeForm){jokeFormObserver.observe(jokeForm)}
setTimeout(()=>{document.getElementById("typewriter").classList.add("done")},3000);const specialObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('animated');observer.unobserve(entry.target)}})},{threshold:0.1});document.querySelectorAll('.special').forEach(item=>{specialObserver.observe(item)})});function openMediasidebar(){const mediaSidebar=document.getElementById('mediasidebar');mediaSidebar.style.left='0'}
function closeMediasidebar(){const mediaSidebar=document.getElementById('mediasidebar');mediaSidebar.style.left='-100%'}
let lastScroll=0;const topbar=document.getElementById('topbar');const threshold=10;document.addEventListener('DOMContentLoaded',()=>{if(window.scrollY<=threshold){topbar.classList.remove('hidden')}});window.addEventListener('scroll',()=>{const currentScroll=window.scrollY;if(currentScroll>lastScroll&&currentScroll>threshold){topbar.classList.add('hidden')}else if(currentScroll<lastScroll||currentScroll<=threshold){topbar.classList.remove('hidden')}
lastScroll=currentScroll});function showPopup(event){event.preventDefault();const audio=document.getElementById('popupAudio');audio.play();document.querySelector('.popup-image').style.display='block';document.querySelector('.overlay').style.display='block';audio.addEventListener('ended',hidePopup,{once:!0})}
function hidePopup(){const audio=document.getElementById('popupAudio');audio.pause();audio.currentTime=0;document.querySelector('.popup-image').style.display='none';document.querySelector('.overlay').style.display='none'}
function showPopup2(event){event.preventDefault();const audio=document.getElementById('popupAudio2');audio.play();document.querySelector('.popup-image2').style.display='block';document.querySelector('.overlay2').style.display='block';audio.addEventListener('ended',hidePopup2,{once:!0})}
function hidePopup2(){const audio=document.getElementById('popupAudio2');audio.pause();audio.currentTime=0;document.querySelector('.popup-image2').style.display='none';document.querySelector('.overlay2').style.display='none'}
document.addEventListener("DOMContentLoaded",()=>{const specialObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('animated');const elementWidth=entry.target.offsetWidth;const duration=Math.max(0.5,elementWidth/200);entry.target.style.setProperty('--underline-duration',`${duration}s`);observer.unobserve(entry.target)}})},{threshold:0.1});document.querySelectorAll('.special').forEach(item=>{item.classList.remove('animated');specialObserver.observe(item)});const special2Observer=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('animated');observer.unobserve(entry.target)}})},{threshold:0.1});document.querySelectorAll('.special2').forEach(item=>{item.classList.remove('animated');special2Observer.observe(item)})})